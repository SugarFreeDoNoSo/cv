---
import "../styles/global.css";

export interface Props {
    title?: string;
    description?: string;
}

const {
    title = "Matías Donoso Q. - Desarrollador de Software",
    description = "Ingeniero de Software proactivo y orientado a resultados, con sólida experiencia en programación de alto rendimiento, inteligencia artificial y desarrollo de software empresarial.",
} = Astro.props;
---

<!doctype html>
<html lang="es" class="scroll-smooth">
    <head>
        <meta charset="UTF-8" />
        <meta name="description" content={description} />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content={Astro.generator} />

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website" />
        <meta property="og:title" content={title} />
        <meta property="og:description" content={description} />

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image" />
        <meta property="twitter:title" content={title} />
        <meta property="twitter:description" content={description} />

        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <title>{title}</title>

        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap"
            rel="stylesheet"
        />
    </head>

    <body class="min-h-screen bg-background font-sans antialiased">
        <div class="relative flex min-h-screen flex-col">
            <main class="flex-1">
                <slot />
            </main>
        </div>

        <style is:global>
            :root {
                --background: 0 0% 100%;
                --foreground: 222.2 84% 4.9%;
                --card: 0 0% 100%;
                --card-foreground: 222.2 84% 4.9%;
                --popover: 0 0% 100%;
                --popover-foreground: 222.2 84% 4.9%;
                --primary: 221.2 83.2% 53.3%;
                --primary-foreground: 210 40% 98%;
                --secondary: 210 40% 96%;
                --secondary-foreground: 222.2 84% 4.9%;
                --muted: 210 40% 96%;
                --muted-foreground: 215.4 16.3% 46.9%;
                --accent: 210 40% 96%;
                --accent-foreground: 222.2 84% 4.9%;
                --destructive: 0 84.2% 60.2%;
                --destructive-foreground: 210 40% 98%;
                --border: 214.3 31.8% 91.4%;
                --input: 214.3 31.8% 91.4%;
                --ring: 221.2 83.2% 53.3%;
                --radius: 0.75rem;
            }

            .dark {
                --background: 222.2 84% 4.9%;
                --foreground: 210 40% 98%;
                --card: 222.2 84% 4.9%;
                --card-foreground: 210 40% 98%;
                --popover: 222.2 84% 4.9%;
                --popover-foreground: 210 40% 98%;
                --primary: 217.2 91.2% 59.8%;
                --primary-foreground: 222.2 84% 4.9%;
                --secondary: 217.2 32.6% 17.5%;
                --secondary-foreground: 210 40% 98%;
                --muted: 217.2 32.6% 17.5%;
                --muted-foreground: 215 20.2% 65.1%;
                --accent: 217.2 32.6% 17.5%;
                --accent-foreground: 210 40% 98%;
                --destructive: 0 62.8% 30.6%;
                --destructive-foreground: 210 40% 98%;
                --border: 217.2 32.6% 17.5%;
                --input: 217.2 32.6% 17.5%;
                --ring: 224.3 76.3% 94.1%;
            }

            * {
                border-color: hsl(var(--border));
            }

            body {
                background-color: hsl(var(--background));
                color: hsl(var(--foreground));
                font-family: "Inter", system-ui, sans-serif;
                scroll-behavior: smooth;
            }

            /* Custom animations with exponential easing */
            @keyframes gradient-x {
                0% {
                    transform: translateX(-40%) scale(1);
                }
                10% {
                    transform: translateX(-20%) scale(1.01);
                }
                25% {
                    transform: translateX(0%) scale(1.02);
                }
                50% {
                    transform: translateX(20%) scale(1.04);
                }
                75% {
                    transform: translateX(30%) scale(1.05);
                }
                90% {
                    transform: translateX(38%) scale(1.055);
                }
                100% {
                    transform: translateX(40%) scale(1.06);
                }
            }

            @keyframes fade-in {
                from {
                    opacity: 0;
                    transform: translateY(30px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            @keyframes slide-up {
                from {
                    opacity: 0;
                    transform: translateY(50px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            @keyframes spin-slow {
                from {
                    transform: rotate(0deg);
                }
                to {
                    transform: rotate(360deg);
                }
            }

            @keyframes bounce-slow {
                0%,
                100% {
                    transform: translateY(0);
                }
                50% {
                    transform: translateY(-15px);
                }
            }

            @keyframes float {
                0%,
                100% {
                    transform: translateY(0px);
                }
                50% {
                    transform: translateY(-8px);
                }
            }

            @keyframes glow {
                0%,
                100% {
                    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
                }
                50% {
                    box-shadow: 0 0 30px rgba(59, 130, 246, 0.6);
                }
            }

            /* Animation classes */
            .animate-gradient-x {
                background-size: 200% 200%;
                will-change: transform;
                animation: gradient-x 20s cubic-bezier(0.25, 0.1, 0.25, 1)
                    infinite alternate;
            }

            .animate-fade-in {
                animation: fade-in 0.8s ease-out forwards;
                opacity: 0;
            }

            .animate-slide-up {
                animation: slide-up 0.8s ease-out forwards;
                opacity: 0;
            }

            .animate-spin-slow {
                will-change: transform;
                animation: spin-slow 60s cubic-bezier(0.1, 0.7, 0.1, 1) infinite;
            }

            .animate-bounce-slow {
                will-change: transform;
                animation: bounce-slow 6s cubic-bezier(0.68, -0.55, 0.265, 1.55)
                    infinite;
            }

            .animate-float {
                will-change: transform;
                animation: float 6s ease-in-out infinite;
            }

            .animate-glow {
                will-change: box-shadow;
                animation: glow 2s ease-in-out infinite alternate;
            }

            /* Glass morphism effects */
            .backdrop-blur-sm {
                backdrop-filter: blur(8px);
            }

            .backdrop-blur-md {
                backdrop-filter: blur(12px);
            }

            .backdrop-blur-lg {
                backdrop-filter: blur(16px);
            }

            /* Custom shadows */
            .shadow-glow {
                box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
            }

            .shadow-glow-lg {
                box-shadow: 0 0 40px rgba(59, 130, 246, 0.4);
            }

            /* Adaptive text contrast system */
            .text-adaptive {
                color: rgba(255, 255, 255, 0.95);
                text-shadow:
                    0 1px 3px rgba(0, 0, 0, 0.8),
                    0 0 10px rgba(0, 0, 0, 0.5),
                    0 0 20px rgba(0, 0, 0, 0.3);
                mix-blend-mode: normal;
            }

            .text-adaptive-heading {
                color: rgba(255, 255, 255, 0.98);
                text-shadow:
                    0 2px 4px rgba(0, 0, 0, 0.9),
                    0 0 15px rgba(0, 0, 0, 0.6),
                    0 0 30px rgba(0, 0, 0, 0.4);
                filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.5));
            }

            .text-adaptive-muted {
                color: rgba(255, 255, 255, 0.85);
                text-shadow:
                    0 1px 2px rgba(0, 0, 0, 0.7),
                    0 0 8px rgba(0, 0, 0, 0.4);
            }

            .text-adaptive-accent {
                color: rgba(255, 255, 255, 0.92);
                text-shadow:
                    0 1px 3px rgba(0, 0, 0, 0.8),
                    0 0 12px rgba(0, 0, 0, 0.5);
                filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.3));
            }

            /* Background-aware containers */
            .bg-adaptive {
                background: rgba(255, 255, 255, 0.08);
                border: 1px solid rgba(255, 255, 255, 0.15);
                backdrop-filter: blur(12px) saturate(150%);
                box-shadow:
                    0 8px 32px rgba(0, 0, 0, 0.3),
                    inset 0 1px 0 rgba(255, 255, 255, 0.2);
            }

            .bg-adaptive:hover {
                background: rgba(255, 255, 255, 0.12);
                border-color: rgba(255, 255, 255, 0.25);
                box-shadow:
                    0 12px 40px rgba(0, 0, 0, 0.4),
                    inset 0 1px 0 rgba(255, 255, 255, 0.25);
            }

            /* Enhanced contrast for interactive elements */
            .btn-adaptive {
                background: linear-gradient(
                    135deg,
                    rgba(255, 255, 255, 0.15) 0%,
                    rgba(255, 255, 255, 0.05) 100%
                );
                border: 1px solid rgba(255, 255, 255, 0.2);
                color: rgba(255, 255, 255, 0.95);
                text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
                backdrop-filter: blur(10px);
                box-shadow:
                    0 4px 16px rgba(0, 0, 0, 0.3),
                    inset 0 1px 0 rgba(255, 255, 255, 0.2);
            }

            .btn-adaptive:hover {
                background: linear-gradient(
                    135deg,
                    rgba(255, 255, 255, 0.25) 0%,
                    rgba(255, 255, 255, 0.1) 100%
                );
                border-color: rgba(255, 255, 255, 0.3);
                transform: translateY(-1px);
                box-shadow:
                    0 8px 24px rgba(0, 0, 0, 0.4),
                    inset 0 1px 0 rgba(255, 255, 255, 0.3);
            }

            /* Skill item animation */
            .skill-item {
                animation: fade-in 0.6s ease-out forwards;
                opacity: 0;
            }

            /* Scrollbar styling */
            ::-webkit-scrollbar {
                width: 8px;
            }

            ::-webkit-scrollbar-track {
                background: rgba(255, 255, 255, 0.1);
                border-radius: 4px;
            }

            ::-webkit-scrollbar-thumb {
                background: linear-gradient(to bottom, #3b82f6, #8b5cf6);
                border-radius: 4px;
            }

            ::-webkit-scrollbar-thumb:hover {
                background: linear-gradient(to bottom, #2563eb, #7c3aed);
            }

            /* Print styles */
            @media print {
                body {
                    print-color-adjust: exact;
                    -webkit-print-color-adjust: exact;
                    background: white !important;
                    color: black !important;
                }

                .no-print {
                    display: none !important;
                }

                .print-break-inside-avoid {
                    break-inside: avoid;
                }

                .print-break-before {
                    break-before: page;
                }

                /* Hide animations and effects in print */
                * {
                    animation: none !important;
                    transition: none !important;
                    transform: none !important;
                }

                /* Reset colors for print */
                .absolute,
                .bg-gradient-to-br,
                .bg-gradient-to-tr,
                .bg-gradient-to-r {
                    background: white !important;
                }

                .shadow,
                .shadow-sm,
                .shadow-xl,
                .shadow-2xl,
                .shadow-glow,
                .shadow-glow-lg {
                    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
                }

                .border {
                    border-color: #e5e7eb !important;
                }

                .text-white,
                .text-slate-100,
                .text-blue-200,
                .text-slate-300,
                .text-blue-100,
                .text-cyan-100 {
                    color: #1f2937 !important;
                }

                .bg-gradient-to-r,
                .bg-clip-text,
                .text-transparent {
                    background: transparent !important;
                    color: #1f2937 !important;
                    -webkit-background-clip: unset !important;
                    background-clip: unset !important;
                }

                /* Ensure cards are visible in print */
                .bg-white\/10,
                .bg-white\/5 {
                    background: white !important;
                    border: 1px solid #e5e7eb !important;
                }

                /* Adjust spacing for print */
                .space-y-10 > * + * {
                    margin-top: 1.5rem !important;
                }

                .space-y-8 > * + * {
                    margin-top: 1rem !important;
                }

                /* Ensure text is readable */
                p,
                span,
                div {
                    color: #374151 !important;
                }

                h1,
                h2,
                h3,
                h4,
                h5,
                h6 {
                    color: #111827 !important;
                }
            }

            /* Responsive design enhancements */
            @media (max-width: 640px) {
                .animate-fade-in,
                .animate-slide-up {
                    animation-duration: 0.5s;
                }
            }

            /* Reduced motion preferences */
            @media (prefers-reduced-motion: reduce) {
                .animate-gradient-x,
                .animate-spin-slow,
                .animate-bounce-slow,
                .animate-float,
                .animate-glow {
                    animation: none !important;
                }

                .animate-fade-in,
                .animate-slide-up,
                .skill-item {
                    animation-duration: 0.01ms !important;
                    animation-iteration-count: 1 !important;
                }
            }
        </style>
    </body>
</html>
